(function(t){function e(e){for(var c,a,s=e[0],i=e[1],l=e[2],u=0,d=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);b&&b(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],c=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(c=!1)}c&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var c={},o={app:0},r=[];function a(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"3fc2e6af"}[t]+".js"}function s(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var c=new Promise((function(e,c){n=o[t]=[e,c]}));e.push(n[2]=c);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=a(t);var l=new Error;r=function(e){i.onerror=i.onload=null,clearTimeout(u);var n=o[t];if(0!==n){if(n){var c=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+c+": "+r+")",l.name="ChunkLoadError",l.type=c,l.request=r,n[1](l)}o[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:i})}),12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(e)},s.m=t,s.c=c,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)s.d(n,c,function(e){return t[e]}.bind(null,c));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/BookStoreDjango/",s.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var b=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0780":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),o={class:"wraperconatiner"},r={class:"navbar is-dark",role:"navigation","aria-label":"main navigation"},a={class:"navbar-brand m-2"},s=Object(c["h"])("strong",null,"Book Store",-1),i=Object(c["h"])("span",{"aria-hidden":"true"},null,-1),l=Object(c["h"])("span",{"aria-hidden":"true"},null,-1),u=Object(c["h"])("span",{"aria-hidden":"true"},null,-1),b=Object(c["h"])("div",{class:"navbar-start"},[Object(c["h"])("div",{class:"navbar-item"},[Object(c["h"])("form",{method:"get",action:"/search"},[Object(c["h"])("div",{class:"field has-addons"},[Object(c["h"])("div",{class:"control"},[Object(c["h"])("input",{type:"text",class:"input is-rounded",placeholder:"What are you looking for?",name:"query"})]),Object(c["h"])("div",{class:"control"},[Object(c["h"])("button",{class:"button is-success"},[Object(c["h"])("span",{class:"icon"},[Object(c["h"])("i",{class:"fas fa-search"})])])])])])])],-1),d={class:"navbar-end p-1"},h=Object(c["g"])("Fiction"),m=Object(c["g"])("Thriller"),O={key:0,class:"navbar-item"},j=Object(c["h"])("i",{class:"fas fa-user-circle"},null,-1),p=Object(c["h"])("span",{class:"m-2"}," My Account",-1),f={key:1,class:"navbar-item"},g=Object(c["h"])("i",{class:"fas fa-sign-in-alt"},null,-1),v=Object(c["h"])("span",{class:"m-2"}," Login",-1),k={class:"navbar-item"},y=Object(c["h"])("i",{class:"fas fa-shopping-cart"},null,-1),w={class:"m-2"},q=Object(c["h"])("div",{class:"lds-dual-ring"},null,-1),x={class:"section"},S=Object(c["h"])("footer",{class:"footer"},[Object(c["h"])("div",{class:"content has-text-centered"},[Object(c["h"])("p",null,[Object(c["h"])("strong",null,"Book Store"),Object(c["h"])("br"),Object(c["g"])(" Copyright 2021 ")])])],-1);function C(t,e,n,C,T,B){var $=Object(c["v"])("router-link"),_=Object(c["v"])("router-view");return Object(c["q"])(),Object(c["d"])("div",o,[Object(c["h"])("nav",r,[Object(c["h"])("div",a,[Object(c["h"])($,{to:"/",exact:"",class:"navbar-item"},{default:Object(c["B"])((function(){return[s]})),_:1}),Object(c["h"])("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbar-menu",onClick:e[1]||(e[1]=function(t){return T.showMobileMenu=!T.showMobileMenu})},[i,l,u])]),Object(c["h"])("div",{id:"navbar-menu",class:["navbar-menu",{"is-active":T.showMobileMenu}]},[b,Object(c["h"])("div",d,[Object(c["h"])($,{to:"/fiction",class:"navbar-item","exact-path":""},{default:Object(c["B"])((function(){return[h]})),_:1}),Object(c["h"])($,{to:"/thriller",class:"navbar-item","exact-path":""},{default:Object(c["B"])((function(){return[m]})),_:1}),t.$store.state.isAuthenticated?(Object(c["q"])(),Object(c["d"])("div",O,[Object(c["h"])($,{to:"my-account",class:"button is-light","exact-path":""},{default:Object(c["B"])((function(){return[j,p]})),_:1})])):(Object(c["q"])(),Object(c["d"])("div",f,[Object(c["h"])($,{to:"log-in","exact-path":"",class:"button is-success"},{default:Object(c["B"])((function(){return[g,v]})),_:1})])),Object(c["h"])("div",k,[Object(c["h"])($,{to:"cart",class:"button is-success","exact-path":""},{default:Object(c["B"])((function(){return[y,Object(c["h"])("span",w,"Cart ("+Object(c["x"])(B.cartItemsCount)+")",1)]})),_:1})])])],2)]),Object(c["h"])("div",{class:["is-loading-bar has-text-centered",{"is-loading":t.$store.state.isLoading}]},[q],2),Object(c["h"])("section",x,[Object(c["h"])(_)]),S])}var T=n("bc3a"),B=n.n(T),$={data:function(){return{showMobileMenu:!1,cart:{items:[]}}},beforeCreate:function(){this.$store.commit("initializeStore");var t=this.$store.state.token;B.a.defaults.headers.common["Authorization"]=t?"Token "+t:""},mounted:function(){this.cart=this.$store.state.cart},computed:{cartItemsCount:function(){return this.cart.items.length}}};n("f25e");$.render=C;var _=$,L=n("9483");Object(L["a"])("".concat("/BookStoreDjango/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("d3b7"),n("3ca3"),n("ddb0");var I=n("6c02"),P=(n("4de4"),n("5502")),z=Object(P["a"])({state:{cart:{items:[]},isAuthenticated:!1,token:"",isLoading:!1},mutations:{initializeStore:function(t){localStorage.getItem("cart")?t.cart=JSON.parse(localStorage.getItem("cart")):localStorage.setItem("cart",JSON.stringify(t.cart)),localStorage.getItem("token")?(t.token=localStorage.getItem("token"),t.isAuthenticated=!0):(t.token="",t.isAuthenticated=!1)},addToCart:function(t,e){var n=t.cart.items.filter((function(t){return t.book.id===e.book.id}));n.length?n[0].quantity=parseInt(n[0].quantity)+parseInt(e.quantity):(console.table("First Time Adding"),t.cart.items.push(e)),localStorage.setItem("cart",JSON.stringify(t.cart))},setLoading:function(t,e){t.isLoading=e},setToken:function(t,e){t.token=e,t.isAuthenticated=!0},removeToken:function(t){t.token="",t.isAuthenticated=!1},clearCart:function(t){t.cart={items:[]},localStorage.setItem("cart",JSON.stringify(t.cart))}},actions:{},modules:{}}),F=Object(c["f"])('<div class="home"><section class="hero is-halfheight" style="background:radial-gradient(circle, rgba(34,193,195,1) 0%, rgba(45,253,166,0.9867297260701156) 100%);"><div class="hero-body"><div class="container has-text-centered"><h1 class="title">Book Store</h1><h2 class="subtitle">Your Reading Journey Starts Here</h2></div></div></section></div><br>',2),A={class:"columns is-multiline"},R=Object(c["h"])("div",{class:"column is-12"},[Object(c["h"])("h3",{class:"is-size-3 has-text-centered"},"Latest Books")],-1);function M(t,e,n,o,r,a){var s=Object(c["v"])("BookCards");return Object(c["q"])(),Object(c["d"])(c["a"],null,[F,Object(c["h"])("div",A,[R,(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(r.latestBooks,(function(t){return Object(c["q"])(),Object(c["d"])(s,{key:t.id,book:t},null,8,["book"])})),128))])],64)}var U=n("1da1"),N=(n("96cf"),n("b0c0"),{class:"column is-multiline"}),V={class:"card"},D={class:"card-image"},J={class:"image is-2by3"},H={class:"card-content"},G={class:"tittle"},Q={class:"subtitle"},E={class:"card-footer"},X={class:"card-footer-item"},Y=Object(c["h"])("button",{class:"button is-light"},"View Details",-1),Z={class:"card-footer-item"},K={class:"has-text-grey"};function W(t,e,n,o,r,a){var s=Object(c["v"])("router-link");return Object(c["q"])(),Object(c["d"])("div",N,[Object(c["h"])("div",V,[Object(c["h"])("div",D,[Object(c["h"])("figure",J,[Object(c["h"])("img",{src:n.book.get_thumbnail,alt:n.book.name,srcset:""},null,8,["src","alt"])])]),Object(c["h"])("div",H,[Object(c["h"])("p",G,Object(c["x"])(n.book.name),1),Object(c["h"])("p",Q,Object(c["x"])(n.book.author_name),1)]),Object(c["h"])("div",E,[Object(c["h"])("div",X,[Object(c["h"])(s,{to:n.book.get_absolute_url},{default:Object(c["B"])((function(){return[Y]})),_:1},8,["to"])]),Object(c["h"])("p",Z,[Object(c["h"])("span",K," Price "+Object(c["x"])(n.book.price),1)])])])])}var tt={name:"BookCards",props:{book:Object}};tt.render=W;var et=tt,nt={name:"Home",data:function(){return{latestBooks:[]}},components:{BookCards:et},mounted:function(){this.getLatestBooks(),document.title="Home | BookStore"},methods:{getLatestBooks:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("setLoading",!0),e.next=3,B.a.get("/api/v1/store/latest-products/").then((function(e){t.latestBooks=e.data})).catch((function(t){console.log(t)}));case 3:t.$store.commit("setLoading",!1);case 4:case"end":return e.stop()}}),e)})))()}}};nt.render=M;var ct=nt,ot=(n("a4d3"),n("e01a"),{class:"product-wrapper"}),rt={class:"columns is-multiline"},at={class:"column is-4 is-offset-1"},st={class:"image mb-6"},it={class:"column is-offset-1"},lt={class:"title"},ut={class:"has-text-justified is-family-sans-serif"},bt=Object(c["h"])("h4",{class:"subtitle"},"Information",-1),dt=Object(c["h"])("strong",null,"Price: ",-1),ht={class:"field has-addons mt-6"},mt={class:"control"},Ot={class:"control"},jt=Object(c["h"])("span",{class:"m-1"}," Add to Cart",-1),pt=Object(c["h"])("i",{class:"fas fa-cart-plus"},null,-1),ft=Object(c["h"])("div",{class:"column is-1"},null,-1);function gt(t,e,n,o,r,a){return Object(c["q"])(),Object(c["d"])("div",ot,[Object(c["h"])("div",rt,[Object(c["h"])("div",at,[Object(c["h"])("figure",st,[Object(c["h"])("img",{src:r.book.get_image},null,8,["src"])])]),Object(c["h"])("div",it,[Object(c["h"])("h1",lt,Object(c["x"])(r.book.name),1),Object(c["h"])("p",ut,Object(c["x"])(r.book.description),1),bt,Object(c["h"])("p",null,[dt,Object(c["g"])("$"+Object(c["x"])(r.book.price),1)]),Object(c["h"])("div",ht,[Object(c["h"])("div",mt,[Object(c["C"])(Object(c["h"])("input",{type:"number",class:"input",min:"1","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.quantity=t})},null,512),[[c["z"],r.quantity]])]),Object(c["h"])("div",Ot,[Object(c["h"])("a",{class:"button is-dark p-3",id:"confetti",onClick:e[2]||(e[2]=function(){return a.addToCart&&a.addToCart.apply(a,arguments)})},[jt,pt])])])]),ft])])}n("99af");var vt=n("1bf0"),kt=n.n(vt),yt=n("4b44"),wt={name:"Book",data:function(){return{quantity:1,book:{}}},mounted:function(){this.getBookDetails()},methods:{getBookDetails:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("setLoading",!0),n=t.$route.params.genere_slug,c=t.$route.params.book_slug,e.next=5,B.a.get("api/v1/store/".concat(n,"/").concat(c,"/")).then((function(e){t.book=e.data,document.title=t.book.name+" | BookStore"})).catch((function(e){console.log(e),t.$router.push("/")}));case 5:t.$store.commit("setLoading",!1);case 6:case"end":return e.stop()}}),e)})))()},addToCart:function(){var t=document.getElementById("confetti");(isNaN(this.quantity)||this.quantity<1)&&(this.quantity=1);var e={book:this.book,quantity:this.quantity};kt.a.element(t,{count:kt.a.variation(50,.5),angleSpan:kt.a.minmax(60,120),shapes:["star"]}),this.$store.commit("addToCart",e),Object(yt["toast"])({message:"The Book was added to the cart",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})}}};wt.render=gt;var qt=wt,xt={class:"genre-wrapper"},St={class:"columns is-multiline"},Ct={class:"column is-12"},Tt={class:"is-size-2 has-text-centered"},Bt={class:"columns is-multiline"};function $t(t,e,n,o,r,a){var s=Object(c["v"])("BookCards");return Object(c["q"])(),Object(c["d"])("div",xt,[Object(c["h"])("div",St,[Object(c["h"])("div",Ct,[Object(c["h"])("h2",Tt,Object(c["x"])(r.genre.name),1)])]),Object(c["h"])("div",Bt,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(r.genre.books,(function(t){return Object(c["q"])(),Object(c["d"])(s,{key:t.id,book:t},null,8,["book"])})),128))])])}var _t={name:"Genre",data:function(){return{genre:{books:{}}}},components:{BookCards:et},mounted:function(){this.getGenreDetails()},watch:{$route:function(t,e){"Genres"===t.name&&this.getGenreDetails()}},methods:{getGenreDetails:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("setLoading",!0),n=t.$route.params.genere_slug,e.next=4,B.a.get("api/v1/store/genre/".concat(n,"/")).then((function(e){t.genre=e.data,document.title=t.genre.name+" | BookStore"})).catch((function(e){console.log(e),t.$router.push("/404"),Object(yt["toast"])({message:"Something went wrong. Please try again.",type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})}));case 4:t.$store.commit("setLoading",!1);case 5:case"end":return e.stop()}}),e)})))()}}};_t.render=$t;var Lt=_t,It={class:"search-wrapper"},Pt={class:"columns is-multiline"},zt={class:"column is-12"},Ft=Object(c["h"])("h1",{class:"title"},"Search",-1),At={class:"is-size-5 has-text-grey"};function Rt(t,e,n,o,r,a){var s=Object(c["v"])("BookCards");return Object(c["q"])(),Object(c["d"])("div",It,[Object(c["h"])("div",Pt,[Object(c["h"])("div",zt,[Ft,Object(c["h"])("h2",At,'Search term: "'+Object(c["x"])(r.query)+'"',1)]),(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(r.books,(function(t){return Object(c["q"])(),Object(c["d"])(s,{key:t.id,book:t},null,8,["book"])})),128))])])}n("ac1f"),n("841c"),n("2b3d");var Mt={name:"Search",data:function(){return{books:{},query:""}},components:{BookCards:et},mounted:function(){var t=window.location.search.substring(1),e=new URLSearchParams(t);e.get("query")&&(this.query=e.get("query"),this.performSearch())},methods:{performSearch:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("setLoading",!0),e.next=3,B.a.post("api/v1/store/search/",{query:t.query}).then((function(e){t.books=e.data,document.title="Search | BookStore",console.log(t.books)})).catch((function(t){console.log(t)}));case 3:t.$store.commit("setLoading",!1);case 4:case"end":return e.stop()}}),e)})))()}}};Mt.render=Rt;var Ut=Mt,Nt=(n("b680"),{class:"cart-wrapper"}),Vt={class:"columns is-multiline"},Dt=Object(c["h"])("div",{class:"column is-12"},[Object(c["h"])("h1",{class:"title"},"Cart")],-1),Jt={class:"column is-12 box"},Ht={key:0,class:"table is-fullwidth"},Gt=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",null,"Product"),Object(c["h"])("th",null,"Price"),Object(c["h"])("th",null,"Quantity"),Object(c["h"])("th",null,"Total"),Object(c["h"])("th")])],-1),Qt={key:1},Et={class:"column is-12 box"},Xt=Object(c["h"])("h2",{class:"subtitle"},"Summary",-1),Yt=Object(c["h"])("hr",null,null,-1),Zt=Object(c["g"])("Proceed to checkout");function Kt(t,e,n,o,r,a){var s=Object(c["v"])("CartItem"),i=Object(c["v"])("router-link");return Object(c["q"])(),Object(c["d"])("div",Nt,[Object(c["h"])("div",Vt,[Dt,Object(c["h"])("div",Jt,[a.cartTotalLength?(Object(c["q"])(),Object(c["d"])("table",Ht,[Gt,Object(c["h"])("tbody",null,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(r.cart.items,(function(t){return Object(c["q"])(),Object(c["d"])(s,{key:t.book.id,initialItem:t,onRemoveFromCart:a.removeFromCart},null,8,["initialItem","onRemoveFromCart"])})),128))])])):(Object(c["q"])(),Object(c["d"])("p",Qt,"You don't have any products in your cart..."))]),Object(c["h"])("div",Et,[Xt,Object(c["h"])("strong",null,"$"+Object(c["x"])(a.cartTotalPrice.toFixed(2)),1),Object(c["g"])(", "+Object(c["x"])(a.cartTotalLength)+" items ",1),Yt,Object(c["h"])(i,{to:"/cart/checkout",class:"button is-dark"},{default:Object(c["B"])((function(){return[Zt]})),_:1})])])])}n("13d5");var Wt={class:"has-text-justified"},te=Object(c["h"])("i",{class:" fas fa-plus-circle"},null,-1),ee={class:"m-3"},ne=Object(c["h"])("i",{class:"fas fa-minus-circle"},null,-1);function ce(t,e,n,o,r,a){var s=Object(c["v"])("router-link");return Object(c["q"])(),Object(c["d"])("tr",null,[Object(c["h"])("td",null,[Object(c["h"])(s,{to:r.item.book.get_absolute_url},{default:Object(c["B"])((function(){return[Object(c["g"])(Object(c["x"])(r.item.book.name),1)]})),_:1},8,["to"])]),Object(c["h"])("td",null,"$"+Object(c["x"])(r.item.book.price),1),Object(c["h"])("td",Wt,[Object(c["h"])("a",{onClick:e[1]||(e[1]=function(t){return a.incrementQuantity(r.item)})},[te]),Object(c["h"])("span",ee,Object(c["x"])(r.item.quantity),1),Object(c["h"])("a",{onClick:e[2]||(e[2]=function(t){return a.decrementQuantity(r.item)})},[ne])]),Object(c["h"])("td",null,"$"+Object(c["x"])(a.getItemTotal(r.item).toFixed(2)),1),Object(c["h"])("td",null,[Object(c["h"])("button",{class:"delete",onClick:e[3]||(e[3]=function(t){return a.removeFromCart(r.item)})})])])}var oe={name:"CartItem",props:{initialItem:Object},data:function(){return{item:this.initialItem}},methods:{getItemTotal:function(t){return t.quantity*t.book.price},decrementQuantity:function(t){t.quantity-=1,0===t.quantity&&this.$emit("removeFromCart",t),this.updateCart()},incrementQuantity:function(t){t.quantity+=1,this.updateCart()},updateCart:function(){localStorage.setItem("cart",JSON.stringify(this.$store.state.cart))},removeFromCart:function(t){this.$emit("removeFromCart",t),this.updateCart()}}};oe.render=ce;var re=oe,ae={name:"Cart",data:function(){return{cart:{items:[]}}},components:{CartItem:re},methods:{removeFromCart:function(t){this.cart.items=this.cart.items.filter((function(e){return e.book.id!==t.book.id}))}},mounted:function(){this.cart=this.$store.state.cart},computed:{cartTotalLength:function(){return this.cart.items.reduce((function(t,e){return t+e.quantity}),0)},cartTotalPrice:function(){return this.cart.items.reduce((function(t,e){return t+e.book.price*e.quantity}),0)}}};ae.render=Kt;var se=ae,ie={class:"page-sign-up"},le={class:"columns"},ue={class:"column is-4 is-offset-4"},be=Object(c["h"])("h1",{class:"title"},"Sign up",-1),de={class:"field"},he=Object(c["h"])("label",null,"Username",-1),me={class:"control"},Oe={class:"field"},je=Object(c["h"])("label",null,"Password",-1),pe={class:"control"},fe={class:"field"},ge=Object(c["h"])("label",null,"Repeat password",-1),ve={class:"control"},ke={key:0,class:"notification is-danger"},ye=Object(c["h"])("div",{class:"field"},[Object(c["h"])("div",{class:"control"},[Object(c["h"])("button",{class:"button is-dark"},"Sign up")])],-1),we=Object(c["h"])("hr",null,null,-1),qe=Object(c["g"])(" Or "),xe=Object(c["g"])("click here"),Se=Object(c["g"])(" to log in! ");function Ce(t,e,n,o,r,a){var s=Object(c["v"])("router-link");return Object(c["q"])(),Object(c["d"])("div",ie,[Object(c["h"])("div",le,[Object(c["h"])("div",ue,[be,Object(c["h"])("form",{onSubmit:e[4]||(e[4]=Object(c["D"])((function(){return a.submitForm&&a.submitForm.apply(a,arguments)}),["prevent"]))},[Object(c["h"])("div",de,[he,Object(c["h"])("div",me,[Object(c["C"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.username=t})},null,512),[[c["z"],r.username]])])]),Object(c["h"])("div",Oe,[je,Object(c["h"])("div",pe,[Object(c["C"])(Object(c["h"])("input",{type:"password",class:"input","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.password=t})},null,512),[[c["z"],r.password]])])]),Object(c["h"])("div",fe,[ge,Object(c["h"])("div",ve,[Object(c["C"])(Object(c["h"])("input",{type:"password",class:"input","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.password2=t})},null,512),[[c["z"],r.password2]])])]),r.errors.length?(Object(c["q"])(),Object(c["d"])("div",ke,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(r.errors,(function(t){return Object(c["q"])(),Object(c["d"])("p",{key:t},Object(c["x"])(t),1)})),128))])):Object(c["e"])("",!0),ye,we,qe,Object(c["h"])(s,{to:"/log-in"},{default:Object(c["B"])((function(){return[xe]})),_:1}),Se],32)])])])}var Te={name:"SignUp",data:function(){return{username:"",password:"",password2:"",errors:[]}},mounted:function(){document.title="Sign Up | BookStore"},methods:{submitForm:function(){var t=this;if(this.errors=[],""===this.username&&this.errors.push("The username is missing"),""===this.password&&this.errors.push("The password is too short"),this.password!==this.password2&&this.errors.push("The passwords doesn't match"),!this.errors.length){var e={username:this.username,password:this.password};B.a.post("/api/v1/users/",e).then((function(e){console.log(e),Object(yt["toast"])({message:"Account created, please log in!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"}),t.$router.push("/log-in")})).catch((function(e){if(e.response){for(var n in e.response.data)t.errors.push("".concat(n,": ").concat(e.response.data[n]));console.log(JSON.stringify(e.response.data))}else e.message&&(t.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(e)))}))}}}};Te.render=Ce;var Be=Te,$e={class:"page-log-in"},_e={class:"columns"},Le={class:"column is-4 is-offset-4"},Ie=Object(c["h"])("h1",{class:"title"},"Log in",-1),Pe={class:"field"},ze=Object(c["h"])("label",null,"Username",-1),Fe={class:"control"},Ae={class:"field"},Re=Object(c["h"])("label",null,"Password",-1),Me={class:"control"},Ue={key:0,class:"notification is-danger"},Ne=Object(c["h"])("div",{class:"field"},[Object(c["h"])("div",{class:"control"},[Object(c["h"])("button",{class:"button is-dark"},"Log in")])],-1),Ve=Object(c["h"])("hr",null,null,-1),De=Object(c["g"])(" Or "),Je=Object(c["g"])("click here"),He=Object(c["g"])(" to sign up! ");function Ge(t,e,n,o,r,a){var s=Object(c["v"])("router-link");return Object(c["q"])(),Object(c["d"])("div",$e,[Object(c["h"])("div",_e,[Object(c["h"])("div",Le,[Ie,Object(c["h"])("form",{onSubmit:e[3]||(e[3]=Object(c["D"])((function(){return a.submitForm&&a.submitForm.apply(a,arguments)}),["prevent"]))},[Object(c["h"])("div",Pe,[ze,Object(c["h"])("div",Fe,[Object(c["C"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.username=t})},null,512),[[c["z"],r.username]])])]),Object(c["h"])("div",Ae,[Re,Object(c["h"])("div",Me,[Object(c["C"])(Object(c["h"])("input",{type:"password",class:"input","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.password=t})},null,512),[[c["z"],r.password]])])]),r.errors.length?(Object(c["q"])(),Object(c["d"])("div",Ue,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(r.errors,(function(t){return Object(c["q"])(),Object(c["d"])("p",{key:t},Object(c["x"])(t),1)})),128))])):Object(c["e"])("",!0),Ne,Ve,De,Object(c["h"])(s,{to:"/sign-up"},{default:Object(c["B"])((function(){return[Je]})),_:1}),He],32)])])])}var Qe={name:"LogIn",data:function(){return{username:"",password:"",errors:[]}},mounted:function(){document.title="Log In | BookStore"},methods:{submitForm:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return B.a.defaults.headers.common["Authorization"]="",localStorage.removeItem("token"),n={username:t.username,password:t.password},e.next=5,B.a.post("/api/v1/auth/token/login/",n).then((function(e){var n=e.data.auth_token;t.$store.commit("setToken",n),B.a.defaults.headers.common["Authorization"]="Token "+n,localStorage.setItem("token",n);var c=t.$route.query.to||"/cart";t.$router.push(c)})).catch((function(e){if(e.response)for(var n in e.response.data)t.errors.push("".concat(n,": ").concat(e.response.data[n]));else t.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(e))}));case 5:case"end":return e.stop()}}),e)})))()}}};Qe.render=Ge;var Ee=Qe,Xe={class:"page-my-account"},Ye={class:"columns is-multiline"},Ze=Object(c["h"])("div",{class:"column is-12"},[Object(c["h"])("h1",{class:"title"},"My Account")],-1),Ke={class:"column is-12"},We=Object(c["h"])("hr",null,null,-1),tn={class:"column is-12"},en=Object(c["h"])("h2",{class:"subtitle"},"My orders",-1);function nn(t,e,n,o,r,a){var s=Object(c["v"])("OrderSummary");return Object(c["q"])(),Object(c["d"])("div",Xe,[Object(c["h"])("div",Ye,[Ze,Object(c["h"])("div",Ke,[Object(c["h"])("button",{onClick:e[1]||(e[1]=function(t){return a.logout()}),class:"button is-danger"},"Log out")]),We,Object(c["h"])("div",tn,[en,(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(r.orders,(function(t){return Object(c["q"])(),Object(c["d"])(s,{key:t.id,order:t},null,8,["order"])})),128))])])])}var cn={class:"box mb-4"},on={class:"is-size-4 mb-6"},rn=Object(c["h"])("h4",{class:"is-size-5"},"Products",-1),an={class:"table is-fullwidth"},sn=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",null,"Product"),Object(c["h"])("th",null,"Price"),Object(c["h"])("th",null,"Quantity"),Object(c["h"])("th",null,"Total")])],-1);function ln(t,e,n,o,r,a){return Object(c["q"])(),Object(c["d"])("div",cn,[Object(c["h"])("h3",on,"Order #"+Object(c["x"])(n.order.id),1),rn,Object(c["h"])("table",an,[sn,Object(c["h"])("tbody",null,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(n.order.items,(function(t){return Object(c["q"])(),Object(c["d"])("tr",{key:t.book.id},[Object(c["h"])("td",null,Object(c["x"])(t.book.name),1),Object(c["h"])("td",null,"$"+Object(c["x"])(t.book.price),1),Object(c["h"])("td",null,Object(c["x"])(t.quantity),1),Object(c["h"])("td",null,"$"+Object(c["x"])(a.getItemTotal(t).toFixed(2)),1)])})),128))])])])}var un={name:"OrderSummary",props:{order:Object},methods:{getItemTotal:function(t){return t.quantity*t.book.price},orderTotalLength:function(t){return t.items.reduce((function(t,e){return t+e.quantity}),0)}}};un.render=ln;var bn=un,dn={name:"MyAccount",components:{OrderSummary:bn},data:function(){return{orders:[]}},mounted:function(){document.title="My Account | BookStore",this.getMyOrders()},methods:{logout:function(){B.a.defaults.headers.common["Authorization"]="",localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userid"),this.$store.commit("removeToken"),this.$router.push("/")},getMyOrders:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("setLoading",!0),e.next=3,B.a.get("/api/v1/orders/").then((function(e){t.orders=e.data})).catch((function(t){console.log(t)}));case 3:t.$store.commit("setLoading",!1);case 4:case"end":return e.stop()}}),e)})))()}}};dn.render=nn;var hn=dn,mn={class:"page-checkout"},On={class:"columns is-multiline"},jn=Object(c["h"])("div",{class:"column is-12"},[Object(c["h"])("h1",{class:"title"},"Checkout")],-1),pn={class:"column is-12 box"},fn={class:"table is-fullwidth"},gn=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",null,"Product"),Object(c["h"])("th",null,"Price"),Object(c["h"])("th",null,"Quantity"),Object(c["h"])("th",null,"Total")])],-1),vn=Object(c["h"])("td",{colspan:"2"},"Total",-1),kn={class:"column is-12 box"},yn=Object(c["h"])("h2",{class:"subtitle"},"Shipping details",-1),wn=Object(c["h"])("p",{class:"has-text-grey mb-4"},"* All fields are required",-1),qn={class:"columns is-multiline"},xn={class:"column is-6"},Sn={class:"field"},Cn=Object(c["h"])("label",null,"First name*",-1),Tn={class:"control"},Bn={class:"field"},$n=Object(c["h"])("label",null,"Last name*",-1),_n={class:"control"},Ln={class:"field"},In=Object(c["h"])("label",null,"E-mail*",-1),Pn={class:"control"},zn={class:"field"},Fn=Object(c["h"])("label",null,"Phone*",-1),An={class:"control"},Rn={class:"column is-6"},Mn={class:"field"},Un=Object(c["h"])("label",null,"Address*",-1),Nn={class:"control"},Vn={class:"field"},Dn=Object(c["h"])("label",null,"Zip code*",-1),Jn={class:"control"},Hn={class:"field"},Gn=Object(c["h"])("label",null,"Place*",-1),Qn={class:"control"},En={key:0,class:"notification is-danger mt-4"},Xn=Object(c["h"])("hr",null,null,-1),Yn=Object(c["h"])("div",{id:"card-element",class:"mb-5"},null,-1),Zn=Object(c["h"])("hr",null,null,-1);function Kn(t,e,n,o,r,a){return Object(c["q"])(),Object(c["d"])("div",mn,[Object(c["h"])("div",On,[jn,Object(c["h"])("div",pn,[Object(c["h"])("table",fn,[gn,Object(c["h"])("tbody",null,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(r.cart.items,(function(t){return Object(c["q"])(),Object(c["d"])("tr",{key:t.book.id},[Object(c["h"])("td",null,Object(c["x"])(t.book.name),1),Object(c["h"])("td",null,"$"+Object(c["x"])(t.book.price),1),Object(c["h"])("td",null,"$"+Object(c["x"])(a.getItemTotal(t).toFixed(2)),1),Object(c["h"])("td",null,"$"+Object(c["x"])(a.getItemTotal(t)),1)])})),128))]),Object(c["h"])("tfoot",null,[Object(c["h"])("tr",null,[vn,Object(c["h"])("td",null,Object(c["x"])(a.cartTotalLength),1),Object(c["h"])("td",null,"$"+Object(c["x"])(a.cartTotalPrice.toFixed(2)),1)])])])]),Object(c["h"])("div",kn,[yn,wn,Object(c["h"])("div",qn,[Object(c["h"])("div",xn,[Object(c["h"])("div",Sn,[Cn,Object(c["h"])("div",Tn,[Object(c["C"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.first_name=t})},null,512),[[c["z"],r.first_name]])])]),Object(c["h"])("div",Bn,[$n,Object(c["h"])("div",_n,[Object(c["C"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.last_name=t})},null,512),[[c["z"],r.last_name]])])]),Object(c["h"])("div",Ln,[In,Object(c["h"])("div",Pn,[Object(c["C"])(Object(c["h"])("input",{type:"email",class:"input","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.email=t})},null,512),[[c["z"],r.email]])])]),Object(c["h"])("div",zn,[Fn,Object(c["h"])("div",An,[Object(c["C"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":e[4]||(e[4]=function(t){return r.phone=t})},null,512),[[c["z"],r.phone]])])])]),Object(c["h"])("div",Rn,[Object(c["h"])("div",Mn,[Un,Object(c["h"])("div",Nn,[Object(c["C"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":e[5]||(e[5]=function(t){return r.address=t})},null,512),[[c["z"],r.address]])])]),Object(c["h"])("div",Vn,[Dn,Object(c["h"])("div",Jn,[Object(c["C"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":e[6]||(e[6]=function(t){return r.zipcode=t})},null,512),[[c["z"],r.zipcode]])])]),Object(c["h"])("div",Hn,[Gn,Object(c["h"])("div",Qn,[Object(c["C"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":e[7]||(e[7]=function(t){return r.place=t})},null,512),[[c["z"],r.place]])])])])]),r.errors.length?(Object(c["q"])(),Object(c["d"])("div",En,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(r.errors,(function(t){return Object(c["q"])(),Object(c["d"])("p",{key:t},Object(c["x"])(t),1)})),128))])):Object(c["e"])("",!0),Xn,Yn,a.cartTotalLength?(Object(c["q"])(),Object(c["d"])(c["a"],{key:1},[Zn,Object(c["h"])("button",{class:"button is-dark",onClick:e[8]||(e[8]=function(){return a.submitForm&&a.submitForm.apply(a,arguments)})}," Pay with Stripe ")],64)):Object(c["e"])("",!0)])])])}var Wn={name:"Checkout",data:function(){return{cart:{items:[]},stripe:{},card:{},first_name:"",last_name:"",email:"",phone:"",address:"",zipcode:"",place:"",errors:[]}},mounted:function(){if(document.title="Checkout | BookStore",this.cart=this.$store.state.cart,this.cartTotalLength>0){this.stripe=Stripe("pk_test_51IkucMSAMJmRQc336if5qnlTh64ehszAUCeGMd1JubjXUIK6XChGosxPVPDYlRKzo77Al51u5XjpF2SBXjDme2Rm00OlZDZAr4");var t=this.stripe.elements();this.card=t.create("card",{hidePostalCode:!0}),this.card.mount("#card-element")}},methods:{getItemTotal:function(t){return t.quantity*t.book.price},submitForm:function(){var t=this;this.errors=[],""===this.first_name&&this.errors.push("The first name field is missing!"),""===this.last_name&&this.errors.push("The last name field is missing!"),""===this.email&&this.errors.push("The email field is missing!"),""===this.phone&&this.errors.push("The phone field is missing!"),""===this.address&&this.errors.push("The address field is missing!"),""===this.zipcode&&this.errors.push("The zip code field is missing!"),""===this.place&&this.errors.push("The place field is missing!"),this.errors.length||(this.$store.commit("setLoading",!0),this.stripe.createToken(this.card).then((function(e){e.error?(t.$store.commit("setLoading",!1),t.errors.push("Something went wrong with Stripe. Please try again"),console.log(e.error.message)):t.stripeTokenHandler(e.token)})))},stripeTokenHandler:function(t){var e=this;return Object(U["a"])(regeneratorRuntime.mark((function n(){var c,o,r,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(c=[],o=0;o<e.cart.items.length;o++)r=e.cart.items[o],a={book:r.book.id,quantity:r.quantity,price:r.book.price*r.quantity},c.push(a);return s={first_name:e.first_name,last_name:e.last_name,email:e.email,address:e.address,zipcode:e.zipcode,place:e.place,phone:e.phone,items:c,stripe_token:t.id},n.next=5,B.a.post("/api/v1/checkout/",s).then((function(t){console.log(t),e.$store.commit("clearCart"),e.$router.push("/cart/success")})).catch((function(t){e.errors.push("Something went wrong. Please try again"),console.log(t)}));case 5:e.$store.commit("setLoading",!1);case 6:case"end":return n.stop()}}),n)})))()}},computed:{cartTotalPrice:function(){return this.cart.items.reduce((function(t,e){return t+e.book.price*e.quantity}),0)},cartTotalLength:function(){return this.cart.items.reduce((function(t,e){return t+e.quantity}),0)}}};Wn.render=Kn;var tc=Wn,ec={class:"page-success"},nc=Object(c["h"])("div",{class:"columns is-multiline"},[Object(c["h"])("div",{class:"column is-12"},[Object(c["h"])("h1",{class:"title"},"Thank you"),Object(c["h"])("p",null,"Your order will be processed within 48 hours")])],-1);function cc(t,e,n,o,r,a){return Object(c["q"])(),Object(c["d"])("div",ec,[nc])}var oc={name:"Success",mounted:function(){kt.a.screen(),document.title="Success | BookStore"}};oc.render=cc;var rc=oc,ac={class:"hello"},sc=Object(c["h"])("h1",null,"(404) Page NotFound",-1);function ic(t,e,n,o,r,a){return Object(c["q"])(),Object(c["d"])("div",ac,[sc])}var lc={mounted:function(){document.title="404 NOT Found | BookStore"}};lc.render=ic;var uc=lc,bc=[{path:"/",name:"Home",component:ct},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/cart",name:"Cart",component:se},{path:"/search",name:"Search",component:Ut},{path:"/sign-up",name:"SignUp",component:Be},{path:"/log-in",name:"LogIn",component:Ee},{path:"/my-account",name:"MyAccount",component:hn,meta:{loginRequired:!0}},{path:"/cart/checkout",name:"CheckOut",component:tc,meta:{loginRequired:!0}},{path:"/cart/success",name:"Success",component:rc},{path:"/:genere_slug",name:"Genres",component:Lt},{path:"/:genere_slug/:book_slug",name:"Book",component:qt},{path:"/404",name:"404 - NotFound",component:uc}],dc=Object(I["a"])({history:Object(I["b"])("/BookStoreDjango/"),routes:bc});dc.beforeEach((function(t,e,n){t.matched.some((function(t){return t.meta.loginRequired}))&&!z.state.isAuthenticated?n({name:"LogIn",query:{to:t.path}}):n()}));var hc=dc;B.a.defaults.baseURL="https://django-book-store-vue.herokuapp.com/",Object(c["c"])(_).use(z).use(hc,B.a).use(hc).mount("#app")},f25e:function(t,e,n){"use strict";n("0780")}});
//# sourceMappingURL=app.b9e39de9.js.map